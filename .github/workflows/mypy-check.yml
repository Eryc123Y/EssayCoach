name: mypy Type Checking

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main, develop ]

jobs:
  mypy:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Setup Nix
      uses: DeterminateSystems/nix-installer-action@main
    
    - name: Run mypy type checking
      run: |
        nix develop --command bash -c "
          cd backend &&
          mypy . --show-error-codes --show-column-numbers
        "

